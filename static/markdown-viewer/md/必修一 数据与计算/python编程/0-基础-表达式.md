# 0-基础-表达式

## **1. 算术表达式** 
### 算术运算符
| 运算符 | 描述     | 示例     | 结果     |
|--------|----------|----------|----------|
| +      | 加法     | 3 + 2   |5|
| +=     | 累加     | a += 1 等效于 a = a + 1，以下所有符号均有类似操作，如-=、*=、/=| a的值为2|
| -      | 减法     | 5 - 3   |2|
| *      | 乘法     | 4 * 2   |8|
| /      | 除法     | 9 / 3   |3.0（注意类型为浮点数）|
| %      | 取余     | 10 % 3  |1|
| //     | 整除     | 10 // 3 |3（注意和除法/区分）|
| **     | 幂运算   | 2 ** 3  |8|

---

## **2. 关系表达式**
### 比较运算符
| 运算符 | 描述          | 示例       | 结果 |
|--------|---------------|------------|------------|
| ==     | 等于          | 3 == 3    | True|
| !=     | 不等于        | 3 != 4    | False|
| >      | 大于          | 5 > 2     |True|
| <      | 小于          | 2 < 5     |True|
| >=     | 大于等于      | 4 >= 3    |True|
| <=     | 小于等于      | 2 <= 4    |True|

---

## **3. 逻辑表达式**
### 逻辑运算符
| 运算符 | 描述         | 示例               | 结果|
|--------|--------------|---------------------|-----------|
| and    | 逻辑与，必须同时为真，结果才为真       | True and False     |False|
| or     | 逻辑或，任意一边为真，结果遍为真       | True or False      |True|
| not    | 逻辑非，取反       | not True           |False|

---

## **4. 字符串操作中的`in`**
| 运算符 | 描述             | 示例                  | 结果    |
|--------|------------------|-----------------------|-----------------------|
| in     | 检查子串是否存在 | 'a' in 'apple'       |True|
| not in | 检查子串不存在   | 'b' not in 'apple'   |False|

---

# **例题解析**

### **例1: 切割数字的每一位**
```python
num = 12345
while num > 0:
    digit = num % 10
    print(digit)
    num = num // 10
```

---

### **例2: 判断水仙花数**
```python
num = 153
a = num // 100
b = (num % 100) // 10
c = num % 10
if num == a**3 + b**3 + c**3:
    print(num, "是水仙花数")
else:
    print(num, "不是水仙花数")
```

---

### **例3: 四舍五入的实现**
```python
num = 12.56
rounded = int(num + 0.5)
print("四舍五入结果", rounded)
```

---

### **例4: 判断奇偶性**
```python
num = 7
if num % 2 == 0:
    print(num, "是偶数")
else:
    print(num, "是奇数")
```

---

## 扩展阅读

表达式的“魔法世界”与“实战骚操作”

## 表达式の迷惑行为大赏

### 1. 运算符的“多重人格”
**现象**：同一个符号，在不同场合有不同身份
```python
# 加号的三重身份：
print(3 + 2)       # 身份1：算术加法 → 5
print("Hello" + "World")  # 身份2：字符串拼接 → "HelloWorld"
print([1, 2] + [3, 4])    # 身份3：列表合并 → [1, 2, 3, 4]
```

**原理**（面向对象版）：
- Python是“面向对象”语言，每个对象都可能有自己的`__add__`方法
- 当看到`a + b`时，Python会问a：“嘿，你知道怎么+b吗？”
- 数字、字符串、列表各有各的加法实现

### 2. 比较运算符的“链条式炫技”
**现象**：你可以像写数学公式一样写比较
```python
# 正常写法（啰嗦版）
if 0 <= x and x <= 10:
    print("x在0到10之间")

# Pythonic写法（优雅版）
if 0 <= x <= 10:  # 直接连起来写！
    print("x在0到10之间")

# 甚至可以这样
if 1 < 2 < 3 < 4:  # True
    print("数学老师看了都说好")
```

**实战骚操作**：
```python
# 判断成绩等级
分数 = 85
if 90 <= 分数 <= 100:
    print("优秀")
elif 80 <= 分数 < 90:
    print("良好")  # 这里会执行
elif 60 <= 分数 < 80:
    print("及格")
else:
    print("加油")
```

### 3. 逻辑运算符的“短路特性”
**现象**：逻辑表达式有时候很“懒”
```python
# 情况1：and的偷懒

if False and 很耗时的函数():  # 很耗时的函数永远不会被调用！
    print("这行不会执行")
# 输出：什么都没有，因为看到False，and就直接返回False了

# 情况2：or的偷懒
if True or 很耗时的函数():  # 看到True，or就直接返回True
    print("这行会执行，但很耗时的函数没被调用")

### 4. 取余运算的“隐藏技能”
**现象**：% 不只是算余数
```python
# 技能1：判断整除
if 年份 % 4 == 0 and (年份 % 100 != 0 or 年份 % 400 == 0):
    print(f"{年份}年是闰年")

# 技能2：循环索引（时钟原理）
当前小时 = 14
几小时后 = (当前小时 + 8) % 24  # 输出：22（不会变成26点）

# 技能3：奇偶交替
for i in range(10):
    背景色 = "白色" if i % 2 == 0 else "灰色"
    print(f"第{i}行：{背景色}")

# 技能4：分组
学生列表 = ["张三", "李四", "王五", "赵六", "钱七"]
for i, 学生 in enumerate(学生列表):
    组号 = i % 3  # 0,1,2,0,1...
    print(f"{学生}在第{组号+1}组")
```

### 5. 整除的“向下取整陷阱”
**现象**：// 总是往小的方向取整
```python
print(5 // 2)   # 2.5 → 2（正常）
print(-5 // 2)  # -2.5 → -3（注意！不是-2！）
print(5 // -2)  # -2.5 → -3（注意！）

# 如果你想得到"数学上的整除"
import math
print(math.floor(5 / 2))    # 2
print(math.floor(-5 / 2))   # -3
print(math.trunc(5 / 2))    # 2（向0取整）
print(math.trunc(-5 / 2))   # -2（向0取整）
```

### 6. 字符串in运算符的“高效查找”
**有趣应用**：
```python
# 敏感词过滤
敏感词库 = ["暴力", "色情", "赌博", "诈骗"]
用户评论 = "这个网站太暴力了，不建议访问"

if any(敏感词 in 用户评论 for 敏感词 in 敏感词库):
    print("评论包含敏感词，已屏蔽")
else:
    print("评论审核通过")

## 表达式生存法则

**“括号是你的好朋友”**：不确定优先级时，加括号最安全
   ```python
   # 猜猜这个结果？
   result = 1 + 2 * 3 ** 2 // 4  # 你能一眼看出来吗？
   # 加括号，一目了然：
   result = 1 + ((2 * (3 ** 2)) // 4)
   ```