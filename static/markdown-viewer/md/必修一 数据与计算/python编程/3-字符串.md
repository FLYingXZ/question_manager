# 3-字符串

### 1. 字符串切片
字符串切片是对字符串进行提取子串操作的一种方式。你可以通过指定起始位置和结束位置来截取字符串的部分内容。

**语法：**
```python
str[start:end]
```
- `start`：起始位置，包含该位置。
- `end`：结束位置，不包含该位置。

**示例：**
```python
text = "Hello, World!"
# 获取第2到第5个字符（注意Python的索引从0开始）
print(text[1:5])  # 输出 "ello"
```

**注意：**
- 如果省略 `start`，表示从字符串的开始位置开始切片。
- 如果省略 `end`，表示切片直到字符串的末尾。

**示例：**
```python
# 从第二个字符开始切片，直到结束
print(text[1:])  # 输出 "ello, World!"
# 从开始切片到倒数第二个字符
print(text[:-1])  # 输出 "Hello, World"
```

### 2. ASCII码与字符转换
- **字符转换为ASCII码：** 使用 `ord()` 函数。
- **ASCII码转换为字符：** 使用 `chr()` 函数。

**示例：**
```python
# 将字符转换为ASCII码
print(ord('A'))  # 输出 65
print(ord('a'))  # 输出 97

# 将ASCII码转换为字符
print(chr(65))  # 输出 'A'
print(chr(97))  # 输出 'a'
```

### 3. 字符串的循环
#### 3.1 使用 `range` 进行循环
`range()` 函数常用于 `for` 循环中，用于生成一系列的数字。

**语法：**
```python
range(start, stop, step)
```
- `start`：起始值，默认从0开始。
- `stop`：结束值，生成的数值小于此值。
- `step`：步长，表示每次增加的数量。

**示例：**
```python
s = "hello"
# 使用range进行for循环
for i in range(len(s)):
    print(s[i])# 输出 'h','e','l','l','o'
```
#### 3.2直接循环
结合`for`循环，字符串可以直接循环每个字符
```python
for i in s:
    print(i)# 输出 'h','e','l','l','o'
```
### 4. 字符串的增、删、改、查操作
现在，我们将通过简单的Python语法来完成字符串的增、删、改、查操作。

#### （1）字符串的增操作
在字符串中插入字符，可以通过切片实现：

**示例：**
```python
text = "Hello World"
# 在位置5插入一个逗号
text = text[:5] + "," + text[5:]
print(text)  # 输出 "Hello, World"
```

#### （2）字符串的删操作
删除指定位置的字符，也可以通过切片来实现：

**示例：**
```python
text = "Hello, World"
# 删除位置5的字符
text = text[:5] + text[6:]
print(text)  # 输出 "Hello World"
```

#### （3）字符串的改操作
修改字符串中指定位置的字符，同样使用切片来替换字符：

**示例：**
```python
text = "Hello, World"
# 修改位置7的字符为小写 'w'
text = text[:7] + 'w' + text[8:]
print(text)  # 输出 "Hello, world"
```

#### （4）字符串的查操作
#### （4.1）查找单个字符
查找字符是否存在并返回位置，可以使用 `for` 循环遍历字符串：

**示例：**
```python
text = "Hello, World"
# 查找字符 'W' 的位置
for i in range(len(text)):
    if text[i] == 'W':
        print("字符 'W' 在位置", i)
        break  # 找到后跳出循环
```

如果字符不存在，可以输出一个提示：

**示例：**
```python
char = 'z'
found = False
for i in range(len(text)):
    if text[i] == char:
        print("字符", char, "在位置 {i}")
        found = True
        break

if not found:
    print("字符", char, "未找到")
```

#### （4.2）查找多个字符（子串）
查找多个字符（或子串）在字符串中的所有位置，我们可以使用 `for` 循环配合一个滑动窗口，逐步检查字符串中的每个子串是否与目标子串相同。

**示例：**
```python
text = "Hello, World! Hello again!"
substring = "Hello"
positions = []
print("子串 ", substring, "出现的位置有：", end = "")
# 查找所有出现的 "Hello" 子串
for i in range(len(text) - len(substring) + 1):
    if text[i:i + len(substring)] == substring:
        print(i, end=",")
```

**输出示例：**
```
子串  Hello 出现的位置有：0,14,
```

### 5. 总结

| 操作类型 | 描述 | 示例 |
|----------|------|------|
| **切片** | 提取字符串的子串 | `"Hello"[1:4]` 输出 `"ell"` |
| **ASCII转换** | 字符与其ASCII值之间的转换 | `ord('A')` 输出 `65` |
| **增操作** | 在指定位置插入字符 | `text[:5] + "," + text[5:]` 输出 `"Hello, World"` |
| **删操作** | 删除指定位置的字符 | `text[:5] + text[6:]` 输出 `"Hello World"` |
| **改操作** | 替换指定位置的字符 | `text[:7] + 'w' + text[8:]` 输出 `"Hello, world"` |
| **查单字符** | 查找字符在字符串中的位置 | `for i in range(len(text)): if text[i] == 'W': print(i)` 输出 `7` |
| **查多字符** | 查找子串在字符串中的所有位置 | `for i in range(len(text) - len(substring) + 1): if text[i:i + len(substring)] == substring: print(i)  输出 `[0, 14]` |

通过这些基本的操作，你可以在没有内置函数的情况下灵活处理字符串。

---

## 扩展阅读

### 1. **Python中的字符串方法**
尽管我们当前避免使用内置方法，但Python为字符串提供了大量内置方法，以下是一些常用的：

- `str.find(substring)`：返回子串 `substring` 第一次出现的位置，如果找不到返回 `-1`。
- `str.replace(old, new)`：将字符串中的 `old` 子串替换为 `new` 子串。
- `str.split(separator)`：将字符串按照分隔符 `separator` 分割成多个子串，返回一个列表。
- `str.join(iterable)`：将可迭代对象中的所有元素连接成一个字符串。

**示例：**
```python
# find 方法
text = "Hello, World"
position = text.find('World')
print(position)  # 输出 7

# replace 方法
new_text = text.replace('World', 'Python')
print(new_text)  # 输出 "Hello, Python"

# split 方法
words = text.split(',')
print(words)  # 输出 ['Hello', ' World']

# join 方法
joined_text = ' '.join(['Hello', 'World'])
print(joined_text)  # 输出 "Hello World"
```

### 2.三引号字符串"""
支持换行形式的字符串，如：
```
s = """
床前明月光，
疑是地上霜
"""
```